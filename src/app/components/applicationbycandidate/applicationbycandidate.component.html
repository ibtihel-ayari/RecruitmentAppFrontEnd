<div class="ml-72 p-8">
  <div class="bg-white p-6 rounded-lg shadow-lg">
    <h6 class="text-sm font-semibold text-gray-800 mb-4">Mes candidatures</h6>

    <!-- Barre de recherche et bouton -->
    <div class="flex justify-between items-center mb-4">
      <!-- Barre de recherche -->
      <div class="relative">
        <input
          type="text"
          [(ngModel)]="searchTerm"
          (input)="filterApplications()"
          placeholder="Rechercher par offre..."
          class="pl-10 pr-4 py-2 "
        >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 absolute left-3 top-2.5 text-gray-400"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
          />
        </svg>
      </div>

      <!-- Bouton supprimer -->
      <div class="flex space-x-2">
       
      </div>
    </div>

    <!-- Message de succès -->
    <div *ngIf="successMessage" class="mb-4 p-3 bg-green-100 text-green-700 border border-green-300 rounded">
      {{ successMessage }}
    </div>

    <!-- Tableau -->
    <table class="w-full border-collapse border border-gray-200">
      <thead>
        <tr class="bg-gray-100">
          <th class="text-lg border px-4 py-2 text-center"></th>
          <th class="border px-4 py-2">Candidat</th>
          <th class="text-lg border px-4 py-2">CV</th>
          <th class="border px-4 py-2">Photo</th>
          <th class="border px-4 py-2">Date de soumission</th>
          <th class="border px-4 py-2">Offre</th>
          <th class="border px-4 py-2">Préselection</th>

          <th class="border px-4 py-2">Status</th>


        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let application of filteredApplications;">
          <td class="border px-4 py-2 text-center">
            <input
              type="radio"
              name="selectedApplication"
              [value]="application.id"
              [(ngModel)]="selectedApplicationId"
              (change)="selectApplication(application)"
            >
          </td>
          <td class="border px-4 py-2 uppercase">{{ getCandidateName(application.candidateId) }}</td>
          <td class="border px-4 py-2">
            <a *ngIf="application.cvFilePath" [href]="getFileUrl(application.cvFilePath)" target="_blank">
              Consulter le CV
            </a>
          </td>
          <td class="border px-4 py-2">
            <img *ngIf="application.photoPath" [src]="getFileUrl(application.photoPath)" width="100" alt="Photo du candidat" />
          </td>
          <td class="border px-4 py-2">{{ application.submissionDate | date }}</td>
          <td class="border px-4 py-2">{{ getJobOfferTitle(application.jobOfferId) }}</td>
          <td class="border px-4 py-2">
            <span *ngIf="application.isValidated" class="text-green-800 font-semibold text-xs">Pré-sélectionné</span>
            <span *ngIf="!application.isValidated" class="text-red-700  text-xs">Non pré-sélectionné</span>
          </td>
          <td class="border px-4 py-2">{{ application.status }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
